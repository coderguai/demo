import{X as U,a6 as pe,c as P,aO as ce,aJ as V,as as he,aP as fe,a as y,a4 as me,ag as ge,p as L,d as w,q as C,s as ye,aQ as be,t as R,aj as Se,o as v,i as X,n as d,y as g,J as Ce,L as ke,l as z,A as O,ad as $e,b as c,e as T,j as m,h as k,F as B,S as j,G as we,k as ze,ah as Re,ai as Be,aR as q,at as A,a5 as N,C as Ne,N as Le,r as D,E as G,g as Oe,f as Te,M as Ee}from"./index-81730b21.js";var F={locks:{},zIndex:2e3,enableRipple:!0};U(F);const K=U(F);function Ie(e){const n=[],r=a=>{if(a!=null&&a.component){r(a==null?void 0:a.component.subTree);return}Array.isArray(a==null?void 0:a.children)&&a.children.forEach(t=>{he(t)&&(n.push(t),r(t))})};return r(e),n}function bn(e){const n=pe(),r=U([]),a=[],t=P(()=>r.length),o=()=>{const s=Ie(n.subTree);r.sort((p,h)=>s.indexOf(p.vnode)-s.indexOf(h.vnode))},i=(s,p)=>{r.push(s),a.push(p),o()},u=(s,p)=>{V(r,s),V(a,p)};return{length:t,childProviders:a,bindChildren:s=>{ce(e,Object.assign({childInstances:r,collect:i,clear:u},s))}}}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$.apply(this,arguments)}var{n:J}=y("ripple"),M=250;function Ue(e){var{zIndex:n,position:r}=me(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",r==="static"&&(e.style.position="relative"),n==="auto"&&(e.style.zIndex="1")}function Pe(e,n){var{top:r,left:a}=ge(e),{clientWidth:t,clientHeight:o}=e,i=Math.sqrt(Math.pow(t,2)+Math.pow(o,2))/2,u=i*2,l=n.touches[0].clientX-a,s=n.touches[0].clientY-r,p=(t-i*2)/2,h=(o-i*2)/2,f=l-i,b=s-i;return{x:f,y:b,centerX:p,centerY:h,size:u}}function Q(e){var n=this._ripple;if(n.removeRipple(),!(n.disabled||n.tasker||!K.enableRipple)){var r=()=>{n.tasker=null;var{x:a,y:t,centerX:o,centerY:i,size:u}=Pe(this,e),l=document.createElement("div");l.classList.add(J()),l.style.opacity="0",l.style.transform="translate("+a+"px, "+t+"px) scale3d(.3, .3, .3)",l.style.width=u+"px",l.style.height=u+"px",n.color&&(l.style.backgroundColor=n.color),l.dataset.createdAt=String(performance.now()),Ue(this),this.appendChild(l),window.setTimeout(()=>{l.style.transform="translate("+o+"px, "+i+"px) scale3d(1, 1, 1)",l.style.opacity=".25"},20)};n.tasker=window.setTimeout(r,30)}}function E(){var e=this._ripple,n=()=>{var r=this.querySelectorAll("."+J());if(r.length){var a=r[r.length-1],t=M-performance.now()+Number(a.dataset.createdAt);window.setTimeout(()=>{a.style.opacity="0",window.setTimeout(()=>{var o;return(o=a.parentNode)==null?void 0:o.removeChild(a)},M)},t)}};e.tasker?window.setTimeout(n,30):n()}function W(){if(!(!fe()||!K.enableRipple)){var e=this._ripple;e.tasker&&window.clearTimeout(e.tasker),e.tasker=null}}function Ae(e,n){var r;e._ripple=$({tasker:null},(r=n.value)!=null?r:{},{removeRipple:E.bind(e)}),e.addEventListener("touchstart",Q,{passive:!0}),e.addEventListener("touchmove",W,{passive:!0}),e.addEventListener("dragstart",E,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0})}function He(e){e.removeEventListener("touchstart",Q),e.removeEventListener("touchmove",W),e.removeEventListener("dragstart",E),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple)}function Ve(e,n){var r,a,t,o,i={color:(r=n.value)==null?void 0:r.color,disabled:(a=n.value)==null?void 0:a.disabled},u=i.color!==((t=e._ripple)==null?void 0:t.color)||i.disabled!==((o=e._ripple)==null?void 0:o.disabled);if(u){var l,s;e._ripple=$({tasker:i.disabled?null:(l=e._ripple)==null?void 0:l.tasker,removeRipple:(s=e._ripple)==null?void 0:s.removeRipple},i)}}var Z={mounted:Ae,unmounted:He,updated:Ve,install(e){e.directive("ripple",this)}},Sn=Z;const je=Z;var De={name:String,size:[Number,String],color:String,namespace:{type:String,default:"var-icon"},transition:{type:[Number,String],default:0},animationClass:String,onClick:L()};function Y(e,n,r,a,t,o,i){try{var u=e[o](i),l=u.value}catch(s){r(s);return}u.done?n(l):Promise.resolve(l).then(a,t)}function Ge(e){return function(){var n=this,r=arguments;return new Promise(function(a,t){var o=e.apply(n,r);function i(l){Y(o,a,t,i,u,"next",l)}function u(l){Y(o,a,t,i,u,"throw",l)}i(void 0)})}}var{n:Me,classes:Ye}=y("icon");function Xe(e,n){return v(),X(Ce(e.isURL(e.name)?"img":"i"),{class:d(e.classes(e.n(),[e.namespace!==e.n(),e.namespace],e.namespace+"--set",[e.isURL(e.name),e.n("image"),e.namespace+"-"+e.nextName],[e.animateInProgress,e.animationClass==null?e.n("--shrinking"):e.animationClass])),style:g({color:e.color,"transition-duration":e.toNumber(e.transition)+"ms",width:e.isURL(e.name)?e.toSizeUnit(e.size):null,height:e.isURL(e.name)?e.toSizeUnit(e.size):null,fontSize:e.toSizeUnit(e.size)}),src:e.isURL(e.name)?e.nextName:null,onClick:e.onClick},null,8,["class","style","src","onClick"])}var _=w({name:"VarIcon",props:De,setup(e){var n=C(""),r=C(!1),a=function(){var t=Ge(function*(o,i){var{transition:u}=e;if(i==null||R(u)===0){n.value=o;return}r.value=!0,yield ke(),setTimeout(()=>{i!=null&&(n.value=o),r.value=!1},R(u))});return function(i,u){return t.apply(this,arguments)}}();return ye(()=>e.name,a,{immediate:!0}),{n:Me,classes:Ye,nextName:n,animateInProgress:r,isURL:be,toNumber:R,toSizeUnit:Se}}});_.render=Xe;const x=_;z(x);var Cn=x,S={type:{type:String,default:"circle"},radius:[String,Number],size:{type:String,default:"normal"},color:String,description:String,loading:Boolean},{n:qe,classes:Fe}=y("loading"),Ke=e=>(Re(""),e=e(),Be(),e),Je=Ke(()=>k("svg",{viewBox:"25 25 50 50"},[k("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)),Qe=[Je];function We(e,n){return v(),c("div",{class:d(e.n())},[e.$slots.default?(v(),c("div",{key:0,class:d(e.classes(e.n("content"),[e.loading,e.n("content--active")]))},[T(e.$slots,"default"),e.loading?(v(),c("div",{key:0,class:d(e.n("content-mask"))},null,2)):m("v-if",!0)],2)):m("v-if",!0),e.isShow?(v(),c("div",{key:1,class:d(e.classes(e.n("$--box"),e.n("body"),[e.$slots.default,e.n("inside")]))},[e.type==="circle"?(v(),c("div",{key:0,class:d(e.n("circle"))},[k("span",{class:d(e.classes(e.n("circle-block"),e.n("circle-block--"+e.size))),style:g({width:e.multiplySizeUnit(e.radius,2),height:e.multiplySizeUnit(e.radius,2),color:e.color})},Qe,6)],2)):m("v-if",!0),(v(!0),c(B,null,j(e.loadingTypeDict,(r,a)=>(v(),c(B,{key:a},[e.type===a?(v(),c("div",{key:0,class:d(e.classes(e.n(a),e.n(a+"--"+e.size)))},[(v(!0),c(B,null,j(r,t=>(v(),c("div",{key:t+a,style:g({backgroundColor:e.color}),class:d(e.classes(e.n(a+"-item"),e.n(a+"-item--"+e.size)))},null,6))),128))],2)):m("v-if",!0)],64))),128)),e.$slots.description||e.description?(v(),c("div",{key:1,class:d(e.classes(e.n("description"),e.n("description--"+e.size))),style:g({color:e.color})},[T(e.$slots,"description",{},()=>[we(ze(e.description),1)])],6)):m("v-if",!0)],2)):m("v-if",!0)],2)}var ee=w({name:"VarLoading",props:S,setup(e,n){var{slots:r}=n,a={wave:5,cube:4,rect:8,disappear:3},t=P(()=>O(r.default)?e.loading:!0);return{n:qe,classes:Fe,multiplySizeUnit:$e,loadingTypeDict:a,isShow:t}}});ee.render=We;const ne=ee;z(ne);var Ze={hovering:{type:Boolean,default:!0}},{n:_e,classes:xe}=y("hover-overlay");function en(e,n){return v(),c("div",{class:d(e.classes(e.n(),[e.hovering,e.n("--hovering")]))},null,2)}var re=w({name:"VarHoverOverlay",props:Ze,setup(){return{n:_e,classes:xe}}});re.render=en;const ae=re;z(ae);function nn(){var e=C(!1),n=r=>{e.value=r};return{hovering:e,handleHovering:n}}function te(e){if(!e)return!1;var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return!!(e==="desktop"&&n||e==="mobile"&&!n)}function rn(e){var n=e.getAttribute("style");return n?n.split(";").filter(Boolean).reduce((r,a)=>{var[t,o]=a.split(":").map(i=>i.trim());return r[q(t)]=o,r},{}):{}}function an(e){var{value:n}=e._hover,r=rn(e);Object.keys(n).forEach(a=>{var t=q(a),o=n[t];o!=null&&r[t]&&(e._hover.rawStyle[t]=r[t])})}function H(e,n){Object.keys(n).forEach(r=>{var a=n[r];a!=null&&(e.style[r]=a)})}function tn(e){Object.keys(e._hover.value).forEach(n=>{var r=e._hover.value[n];r!=null&&(e.style[n]="")})}function oe(e){tn(e),H(e,e._hover.rawStyle)}function ie(){var{value:e}=this._hover;if(this._hover.hovering=!0,A(e)){e(this._hover.hovering);return}H(this,e)}function se(){if(this._hover.hovering=!1,A(this._hover.value)){this._hover.value(this._hover.hovering);return}oe(this)}function le(e,n){var r,a,{arg:t,value:o}=n;te(t)||(e._hover={value:o,hovering:(r=(a=e._hover)==null?void 0:a.hovering)!=null?r:!1,rawStyle:{}},an(e),e.addEventListener("mouseenter",ie),e.addEventListener("mouseleave",se))}function ue(e,n){te(n.arg)||(oe(e),e.removeEventListener("mouseenter",ie),e.removeEventListener("mouseleave",se))}function on(e,n){e._hover&&ue(e,n)}function sn(e,n){return!A(n.value)&&e._hover.hovering}function ln(e,n){le(e,n),sn(e,n)&&H(e,n.value)}var un={mounted:le,unmounted:ue,beforeUpdate:on,updated:ln,install(e){e.directive("hover",this)}};const vn=un;function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},I.apply(this,arguments)}var dn={type:String,nativeType:{type:String,default:"button"},size:String,loading:Boolean,round:Boolean,block:Boolean,text:Boolean,outline:Boolean,disabled:Boolean,autoLoading:Boolean,ripple:{type:Boolean,default:!0},color:String,textColor:String,elevation:{type:[Boolean,Number,String],default:!0},loadingRadius:[Number,String],loadingType:N(S,"type"),loadingSize:N(S,"size"),loadingColor:I({},N(S,"color"),{default:"currentColor"}),onClick:L(),onTouchstart:L()},pn=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function cn(){var{bindParent:e,parentProvider:n,index:r}=Ne(pn);return{index:r,buttonGroup:n,bindButtonGroup:e}}var{n:hn,classes:fn}=y("button"),mn=["type","disabled"];function gn(e,n){var r=D("var-loading"),a=D("var-hover-overlay"),t=G("ripple"),o=G("hover");return Oe((v(),c("button",{class:d(e.classes(e.n(),e.n("$--box"),e.n("--"+e.states.size),[e.block,e.n("$--flex")+" "+e.n("--block"),e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,e.n("--text-"+e.states.type)+" "+e.n("--text"),e.n("--"+e.states.type)+" "+e.states.elevation],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:g({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:n[1]||(n[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(v(),X(r,{key:0,class:d(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):m("v-if",!0),k("div",{class:d(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[T(e.$slots,"default")],2),Te(a,{hovering:e.disabled?!1:e.hovering},null,8,["hovering"])],46,mn)),[[t,{disabled:e.disabled||!e.ripple}],[o,e.handleHovering,"desktop"]])}var ve=w({name:"VarButton",components:{VarLoading:ne,VarHoverOverlay:ae},directives:{Ripple:je,Hover:vn},props:dn,setup(e){var n=C(!1),{buttonGroup:r}=cn(),{hovering:a,handleHovering:t}=nn(),o=P(()=>{if(!r)return{elevation:Le(e.elevation,2),type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline};var{type:s,size:p,color:h,textColor:f,mode:b}=r;return{elevation:"",type:e.type!=null?e.type:s.value,size:e.size!=null?e.size:p.value,color:e.color!=null?e.color:h.value,textColor:e.textColor!=null?e.textColor:f.value,text:b.value!=="normal",outline:b.value==="outline"}}),i=s=>{e.autoLoading&&(n.value=!0,s=Ee(s)?s:[s],Promise.all(s).then(()=>{n.value=!1}).catch(()=>{n.value=!1}))},u=s=>{var{loading:p,disabled:h,onClick:f}=e;!f||p||h||n.value||i(O(f,s))},l=s=>{var{loading:p,disabled:h,onTouchstart:f}=e;!f||p||h||n.value||i(O(f,s))};return{n:hn,classes:fn,pending:n,states:o,hovering:a,handleHovering:t,handleClick:u,handleTouchstart:l}}});ve.render=gn;const de=ve;z(de);var kn=de;export{de as B,K as C,vn as H,x as I,ne as L,je as R,Cn as _,Sn as a,ae as b,nn as c,kn as d,De as e,S as p,bn as u};
