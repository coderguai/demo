import{a5 as m,p as u,d as B,q as ee,c as N,s as $,A as l,u as ne,a as P,r as h,g as ae,v as oe,o as O,b as te,h as g,n as f,e as c,G as q,k as D,i as C,j,y as V,an as re,f as k,w as b,m as w,T as ie,a3 as se,X as E,ao as le,ap as ce,l as U,aq as de,ar as ue,t as G,as as fe,at as pe}from"./index-81730b21.js";import{p as S,L as ve,I as me,C as ge}from"./icon-4be89cfe.js";import{u as be}from"./shared-8dcc744f.js";import{u as Se}from"./lock-c409d3db.js";function T(){return T=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}var F={type:String,position:{type:String,default:"top"},content:{type:[String,Function,Object]},contentClass:String,duration:{type:Number,default:3e3},vertical:Boolean,loadingType:m(S,"type"),loadingSize:m(S,"size"),loadingRadius:m(S,"radius"),loadingColor:T({},m(S,"color"),{default:"currentColor"}),lockScroll:Boolean,show:Boolean,teleport:{type:[String,Object,Boolean],default:"body"},forbidClick:Boolean,onOpen:u(),onOpened:u(),onClose:u(),onClosed:u(),"onUpdate:show":u(),_update:String},{n:Oe,classes:ke}=P("snackbar"),ye={success:"checkbox-marked-circle",warning:"warning",info:"information",error:"error",loading:""};function he(e,a){var n=h("var-icon"),o=h("var-loading");return ae((O(),te("div",{class:f(e.n()),style:V({pointerEvents:e.isForbidClick?"auto":"none",zIndex:e.zIndex})},[g("div",{class:f(e.classes(e.n("wrapper"),e.n("wrapper-"+e.position),e.n("$-elevation--4"),[e.vertical,e.n("vertical")],[e.type&&e.SNACKBAR_TYPE.includes(e.type),e.n("wrapper-"+e.type)])),style:V({zIndex:e.zIndex})},[g("div",{class:f([e.n("content"),e.contentClass])},[c(e.$slots,"default",{},()=>[q(D(e.content),1)])],2),g("div",{class:f([e.n("icon")])},[e.iconName?(O(),C(n,{key:0,name:e.iconName},null,8,["name"])):j("v-if",!0),e.type==="loading"?(O(),C(o,{key:1,type:e.loadingType,size:e.loadingSize,color:e.loadingColor,radius:e.loadingRadius},null,8,["type","size","color","radius"])):j("v-if",!0),c(e.$slots,"icon")],2),g("div",{class:f(e.n("action"))},[c(e.$slots,"action")],2)],6)],6)),[[oe,e.show]])}var M=B({name:"VarSnackbarCore",components:{VarLoading:ve,VarIcon:me},props:F,setup(e){var a=ee(null),{zIndex:n}=be(()=>e.show,1);Se(()=>e.show,()=>e.lockScroll);var o=N(()=>e.type==="loading"||e.forbidClick),r=N(()=>e.type?ye[e.type]:""),s=()=>{a.value=setTimeout(()=>{e.type!=="loading"&&l(e["onUpdate:show"],!1)},e.duration)};return $(()=>e.show,v=>{v?(l(e.onOpen),s()):v===!1&&(clearTimeout(a.value),l(e.onClose))}),$(()=>e._update,()=>{clearTimeout(a.value),s()}),ne(()=>{e.show&&(l(e.onOpen),s())}),{SNACKBAR_TYPE:K,n:Oe,classes:ke,zIndex:n,iconName:r,isForbidClick:o}}});M.render=he;const R=M;var{n:Ce}=P("snackbar");function we(e,a){var n=h("var-snackbar-core");return O(),C(se,{to:e.teleport===!1?void 0:e.teleport,disabled:e.disabled||e.teleport===!1},[k(ie,{name:e.n()+"-fade",onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:b(()=>[k(n,w(e.$props,{class:e.n("transition")}),{icon:b(()=>[c(e.$slots,"icon")]),action:b(()=>[c(e.$slots,"action")]),default:b(()=>[c(e.$slots,"default",{},()=>[q(D(e.content),1)])]),_:3},16,["class"])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}var Y=B({name:"VarSnackbar",components:{VarSnackbarCore:R},props:F,setup(){var{disabled:e}=re();return{n:Ce,disabled:e}}});Y.render=we;const I=Y;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}function Te(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fe(e)}var K=["loading","success","warning","info","error"],L=0,A=!1,H,d=!1,X={type:void 0,content:"",icon:"",action:"",position:"top",duration:3e3,vertical:!1,contentClass:void 0,loadingType:"circle",loadingSize:"normal",lockScroll:!1,teleport:"body",forbidClick:!1,onOpen:()=>{},onOpened:()=>{},onClose:()=>{},onClosed:()=>{}},t=E([]),z=X,Ae={name:"var-snackbar-fade",tag:"div",class:"var-transition-group"},y=e=>()=>pe(e)?e():e,Ee={setup(){return()=>{var e=t.map(a=>{var{id:n,reactiveSnackOptions:o,_update:r}=a,s=document.querySelector(".var-transition-group");o.forbidClick||o.type==="loading"?s.classList.add("var-pointer-auto"):s.classList.remove("var-pointer-auto"),d&&(o.position="top");var v=d?"relative":"absolute",Z=p({position:v},Ve(o.position)),{content:J,icon:Q,action:W}=o,_={default:y(J),icon:y(Q),action:y(W)};return k(R,w(o,{key:n,style:Z,"data-id":n,_update:r,show:o.show,"onUpdate:show":x=>o.show=x}),_)});return k(ue,w(Ae,{style:{zIndex:ge.zIndex},onAfterEnter:Ie,onAfterLeave:ze}),Te(e)?e:{default:()=>[e]})}}},i=function(e){var a=$e(e),n=E(p({},z,a));n.show=!0,A||(A=!0,H=le(Ee).unmountInstance);var{length:o}=t,r={id:L++,reactiveSnackOptions:n};if(o===0||d)Ne(r);else{var s="update-"+L;je(n,s)}return{clear(){!d&&t.length?t[0].reactiveSnackOptions.show=!1:n.show=!1}}};K.forEach(e=>{i[e]=a=>(ce(a)?a.type=e:a={content:a,type:e},i(a))});i.allowMultiple=function(e){e===void 0&&(e=!1),e!==d&&(t.forEach(a=>{a.reactiveSnackOptions.show=!1}),d=e)};i.clear=function(){t.forEach(e=>{e.reactiveSnackOptions.show=!1})};i.setDefaultOptions=function(e){z=e};i.resetDefaultOptions=function(){z=X};function Ie(e){var a=e.getAttribute("data-id"),n=t.find(o=>o.id===G(a));n&&l(n.reactiveSnackOptions.onOpened)}function ze(e){e.parentElement&&e.parentElement.classList.remove("var-pointer-auto");var a=e.getAttribute("data-id"),n=t.find(r=>r.id===G(a));n&&(n.animationEnd=!0,l(n.reactiveSnackOptions.onClosed));var o=t.every(r=>r.animationEnd);o&&(l(H),t=E([]),A=!1)}function Ne(e){t.push(e)}function $e(e){return e===void 0&&(e={}),de(e)?{content:e}:e}function je(e,a){var[n]=t;n.reactiveSnackOptions=p({},n.reactiveSnackOptions,e),n._update=a}function Ve(e){return e===void 0&&(e="top"),e==="bottom"?{[e]:"5%"}:{top:e==="top"?"5%":"45%"}}i.Component=I;U(I);U(I,i);const De=i;export{De as S};
