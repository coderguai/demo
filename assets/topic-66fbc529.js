import{u as ae,I as te,_ as oe,a as le}from"./icon-4be89cfe.js";import{p as D,d as R,c as w,s as T,L as O,a as Y,o as P,b as E,e as $,n as f,M as A,A as U,l as q,C as re,D as ie,q as N,N as se,r as ue,h as d,G as de,k as V,f as m,g as Q,v as ce,y as ve,O as L,P as me,w as y,Q as k,R as G,F as B,S as M,_ as fe}from"./index-81730b21.js";import{_ as pe,a as _e}from"./ButtonSfc-70716131.js";import{_ as he}from"./avatar-6f500ba1.js";import{_ as ge,a as Ce,b as ye,c as F}from"./route-block-464d7a05.js";import"./index-566096ad.js";import"./shared-8dcc744f.js";import"./CellSfc-0e37df85.js";import"./lock-c409d3db.js";var J=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY");function Ve(){var{childProviders:e,length:a,bindChildren:o}=ae(J);return{length:a,collapseItem:e,bindCollapseItem:o}}var Ie={modelValue:[Array,String,Number],accordion:Boolean,offset:{type:Boolean,default:!0},divider:{type:Boolean,default:!0},elevation:{type:[Boolean,String,Number],default:!0},onChange:D(),"onUpdate:modelValue":D()},{n:be}=Y("collapse");function Se(e,a){return P(),E("div",{class:f(e.n())},[$(e.$slots,"default")],2)}var W=R({name:"VarCollapse",props:Ie,setup(e){var{length:a,collapseItem:o,bindCollapseItem:v}=Ve(),c=w(()=>e.modelValue),t=w(()=>e.offset),s=w(()=>e.divider),i=w(()=>e.elevation),u=()=>!(!e.accordion&&!A(e.modelValue)||e.accordion&&A(e.modelValue)),h=(l,n)=>u()?n?e.accordion?l:[...e.modelValue,l]:e.accordion?null:e.modelValue.filter(r=>r!==l):null,g=(l,n)=>{var r=h(l,n);U(e["onUpdate:modelValue"],r),U(e.onChange,r)},I=()=>{if(e.accordion)return o.find(n=>{var{name:r}=n;return e.modelValue===r.value});var l=o.filter(n=>{var{name:r}=n;return r.value===void 0?!1:e.modelValue.includes(r.value)});return l.length?l:void 0},b=()=>e.accordion?o.find(l=>{var{index:n,name:r}=l;return r.value===void 0&&e.modelValue===n.value}):o.filter(l=>{var{index:n,name:r}=l;return r.value===void 0&&e.modelValue.includes(n.value)}),C=()=>{if(u()){var l=I()||b();if(e.accordion&&!l||!e.accordion&&!l.length){o.forEach(n=>{n.init(e.accordion,!1)});return}o.forEach(n=>{var r=e.accordion?l===n:l.includes(n);n.init(e.accordion,r)})}},S={active:c,offset:t,divider:s,elevation:i,updateItem:g};return v(S),T(()=>a.value,()=>O().then(C)),T(()=>e.modelValue,()=>O().then(C)),{n:be,divider:s}}});W.render=Se;const X=W;q(X);var we=X;function Pe(){var{parentProvider:e,index:a,bindParent:o}=re(J);return o||ie("Collapse","<var-collapse-item/> must in <var-collapse>"),{index:a,collapse:e,bindCollapse:o}}var Ee={name:[String,Number],title:String,icon:{type:String,default:"chevron-down"},disabled:Boolean};function H(e,a,o,v,c,t,s){try{var i=e[t](s),u=i.value}catch(h){o(h);return}i.done?a(u):Promise.resolve(u).then(v,c)}function K(e){return function(){var a=this,o=arguments;return new Promise(function(v,c){var t=e.apply(a,o);function s(u){H(t,v,c,s,i,"next",u)}function i(u){H(t,v,c,s,i,"throw",u)}s(void 0)})}}var{n:Ne,classes:$e}=Y("collapse-item");function Le(e,a){var o=ue("var-icon");return P(),E("div",{class:f(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")])),style:ve("--collapse-divider-top: "+(e.divider?"var(--collapse-border-top)":"none"))},[d("div",{class:f(e.classes(e.n("shadow"),e.formatElevation(e.elevation,2)))},null,2),d("div",{class:f(e.n("header")),onClick:a[0]||(a[0]=v=>e.toggle())},[d("div",{class:f(e.n("header-title"))},[$(e.$slots,"title",{},()=>[de(V(e.title),1)])],2),d("div",{class:f(e.n("header-icon"))},[$(e.$slots,"icon",{},()=>[m(o,{name:e.icon,transition:250,class:f(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),Q(d("div",{class:f(e.n("content")),ref:"contentEl",onTransitionend:a[1]||(a[1]=function(){return e.transitionend&&e.transitionend(...arguments)}),onTransitionstart:a[2]||(a[2]=function(){return e.start&&e.start(...arguments)})},[d("div",{class:f(e.n("content-wrap"))},[$(e.$slots,"default")],2)],34),[[ce,e.showContent]])],6)}var Z=R({name:"VarCollapseItem",components:{VarIcon:te},props:Ee,setup(e){var{index:a,collapse:o,bindCollapse:v}=Pe(),c=!0,t=N(null),s=N(!1),i=N(!1),{active:u,offset:h,divider:g,elevation:I,updateItem:b}=o,C=w(()=>e.name),S=(p,_)=>{u.value===void 0||p&&A(u.value)||_===i.value||(i.value=_,l(!0))},l=p=>{e.disabled||p||b(e.name||a.value,!i.value)},n=function(){var p=K(function*(){if(t.value&&(t.value.style.height="",s.value=!0,yield L(),!!t.value)){var{offsetHeight:_}=t.value;t.value.style.height="0px",yield L(),t.value&&(t.value.style.height=_+"px",c&&(yield me(),c&&z()))}});return function(){return p.apply(this,arguments)}}(),r=()=>{c=!1},ee=function(){var p=K(function*(){if(t.value){var{offsetHeight:_}=t.value;t.value.style.height=_+"px",yield L(),t.value.style.height="0px"}});return function(){return p.apply(this,arguments)}}(),z=()=>{i.value||(s.value=!1),t.value.style.height=""},ne={index:a,name:C,init:S};return v(ne),T(i,p=>{p?n():ee()}),{n:Ne,start:r,classes:$e,showContent:s,isShow:i,offset:h,divider:g,elevation:I,toggle:l,contentEl:t,transitionend:z,formatElevation:se}}});Z.render=Le;const j=Z;q(j);var ke=j;const Be={class:"topic"},Te={class:"topic-item-icon"},Ae={class:"topic-item-title"},Re={class:"topic-item-child"},ze={class:"topic-item-icon"},De={class:"topic-item-title"},x=R({__name:"topic",setup(e){const a=N(!1),o=N([]);function v(){a.value=!1}return(c,t)=>{const s=ge,i=Ce,u=ye,h=pe,g=oe,I=ke,b=we,C=he,S=_e,l=le;return P(),E(B,null,[d("div",Be,[m(C,{modelValue:k(a),"onUpdate:modelValue":t[1]||(t[1]=n=>G(a)?a.value=n:null),onRefresh:v},{default:y(()=>[m(h,null,{left:y(()=>[m(s)]),right:y(()=>[m(i),m(u)]),_:1}),m(b,{modelValue:k(o),"onUpdate:modelValue":t[0]||(t[0]=n=>G(o)?o.value=n:null),elevation:0,offset:!1},{default:y(()=>[(P(),E(B,null,M(20,n=>m(I,{key:n},{title:y(()=>[d("div",{class:f(["topic-item",{"topic-item-active":k(o).includes(n-1)}])},[d("div",Te,[m(g,{name:"heart",size:"6vmin"})]),d("span",Ae,V(c.$t("Topic"))+" "+V(n),1)],2)]),default:y(()=>[d("div",Re,[(P(),E(B,null,M(5,r=>Q(d("div",{class:"topic-item",key:r},[d("div",ze,[m(g,{name:"star",size:"6vmin"})]),d("span",De,V(c.$t("Child topic"))+" "+V(n)+" - "+V(r),1)]),[[l,{color:"var(--color-primary)"}]])),64))])]),_:2},1024)),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),m(S)],64)}}});typeof F=="function"&&F(x);const Qe=fe(x,[["__scopeId","data-v-88eae8ef"]]);export{Qe as default};
