import{R as p}from"./icon-4be89cfe.js";import{L as C}from"./index-566096ad.js";import{p as o,d as L,q as b,s as E,aj as w,a as B,E as v,g as y,o as t,b as s,n as d,y as u,j as g,e as I,A as n,l as N}from"./index-81730b21.js";var j={src:String,fit:{type:String,default:"fill"},alt:String,title:String,width:[String,Number],height:[String,Number],radius:{type:[String,Number],default:0},loading:String,error:String,lazy:Boolean,ripple:Boolean,block:{type:Boolean,default:!0},onClick:o(),onLoad:o(),onError:o()},{n:U,classes:R}=B("image"),$=["alt","title","lazy-loading","lazy-error"],D=["alt","title","src"];function F(r,e){var i=v("lazy"),l=v("ripple");return y((t(),s("div",{class:d(r.classes(r.n(),r.n("$--box"),[!r.block,r.n("$--inline-block")])),style:u({width:r.toSizeUnit(r.width),height:r.toSizeUnit(r.height),borderRadius:r.toSizeUnit(r.radius)})},[r.lazy&&!r.showErrorSlot?y((t(),s("img",{key:0,class:d(r.n("image")),alt:r.alt,title:r.title,"lazy-loading":r.loading,"lazy-error":r.error,style:u({objectFit:r.fit}),onLoad:e[0]||(e[0]=function(){return r.handleLoad&&r.handleLoad(...arguments)}),onClick:e[1]||(e[1]=function(){return r.handleClick&&r.handleClick(...arguments)})},null,46,$)),[[i,r.src]]):g("v-if",!0),!r.lazy&&!r.showErrorSlot?(t(),s("img",{key:1,class:d(r.n("image")),alt:r.alt,title:r.title,style:u({objectFit:r.fit}),src:r.src,onLoad:e[2]||(e[2]=function(){return r.handleLoad&&r.handleLoad(...arguments)}),onError:e[3]||(e[3]=function(){return r.handleError&&r.handleError(...arguments)}),onClick:e[4]||(e[4]=function(){return r.handleClick&&r.handleClick(...arguments)})},null,46,D)):g("v-if",!0),r.showErrorSlot?I(r.$slots,"error",{key:2}):g("v-if",!0)],6)),[[l,{disabled:!r.ripple}]])}var h=L({name:"VarImage",directives:{Lazy:C,Ripple:p},props:j,setup(r,e){var{slots:i}=e,l=b(!1),m=a=>{l.value=!!i.error,n(r.onError,a)},z=a=>{var f=a.currentTarget;if(r.lazy){if(f._lazy.state==="success"){n(r.onLoad,a);return}f._lazy.state==="error"&&m(a)}else n(r.onLoad,a)},k=a=>{n(r.onClick,a)};return E(()=>r.src,()=>{l.value=!1}),{n:U,classes:R,showErrorSlot:l,toSizeUnit:w,handleLoad:z,handleError:m,handleClick:k}}});h.render=F;const S=h;N(S);var P=S;export{P as _};
