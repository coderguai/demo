import{d as k,c as p,t as U,a as O,r as $,o as s,b as C,e as h,f as g,w as T,g as J,h as Q,m as G,i as B,n as f,j as N,k as W,v as ca,T as ga,l as R,p as S,q as P,s as _,u as fa,x as ba,y as X,z as pa,A as m,B as Na,C as Ca,D as ha,E as Ba,F as ya,G as Ia,H as Sa,I as $a,J as _a,K as Aa,_ as Ta}from"./index-81730b21.js";import{I as Z,u as Pa,B as ka,R as Oa}from"./icon-4be89cfe.js";var Ea={type:{type:String,default:"default"},position:{type:String,default:"right-top"},hidden:Boolean,value:{type:[String,Number],default:0},maxValue:[String,Number],dot:Boolean,icon:String,color:String},{n:La,classes:Fa}=O("badge");function Va(a,n){var e=$("var-icon");return s(),C("div",{class:f(a.classes(a.n(),a.n("$--box")))},[h(a.$slots,"default"),g(ga,{name:a.n("$-badge-fade"),persisted:""},{default:T(()=>[J(Q("span",G({class:a.classes(a.n("content"),a.n("--"+a.type),[a.$slots.default,a.n("--"+a.position)],[a.dot,a.n("--dot")],[a.icon,a.n("--icon")]),style:{background:a.color}},a.$attrs),[a.icon?(s(),B(e,{key:0,class:f(a.n("icon")),"var-badge-cover":"",name:a.icon},null,8,["class","name"])):N("v-if",!0),h(a.$slots,"value",{},()=>[!a.icon&&!a.dot?(s(),C("span",{key:0,class:f(a.n("value"))},W(a.value),3)):N("v-if",!0)])],16),[[ca,!a.hidden]])]),_:3},8,["name"])],2)}var x=k({name:"VarBadge",components:{VarIcon:Z},inheritAttrs:!1,props:Ea,setup(a){var n=p(()=>{var{value:e,maxValue:r}=a;return e!=null&&r!=null&&U(e)>U(r)?r+"+":e});return{n:La,classes:Fa,value:n}}});x.render=Va;const aa=x;R(aa);var Ma={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,fabProps:Object,onChange:S(),onBeforeChange:S(),onFabClick:S(),"onUpdate:active":S()},ea=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function wa(){var{childProviders:a,length:n,bindChildren:e}=Pa(ea);return{length:n,bottomNavigationItems:a,bindBottomNavigationItem:e}}function D(){return D=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r])}return a},D.apply(this,arguments)}var{n:Da,classes:Ga}=O("bottom-navigation"),{n:E}=O("bottom-navigation-item"),K=E("--right-half-space"),q=E("--left-half-space"),Y=E("--right-space"),Ra={type:"primary"};function za(a,n){var e=$("var-button");return s(),C("div",{class:f(a.classes(a.n(),a.n("$--box"),[a.fixed,a.n("--fixed")],[a.border,a.n("--border")],[a.safeArea,a.n("--safe-area")])),ref:"bottomNavigationDom",style:X("z-index:"+a.zIndex)},[h(a.$slots,"default"),a.$slots.fab?(s(),B(e,G({key:0,class:a.classes(a.n("fab"),[a.length%2,a.n("--fab-right"),a.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:a.handleFabClick},a.fabProps,{round:""}),{default:T(()=>[h(a.$slots,"fab")]),_:3},16,["class","onClick"])):N("v-if",!0)],6)}var na=k({name:"VarBottomNavigation",components:{VarButton:ka},props:Ma,setup(a,n){var{slots:e}=n,r=P(null),o=p(()=>a.active),d=p(()=>a.activeColor),y=p(()=>a.inactiveColor),l=P({}),{length:v,bottomNavigationItems:u,bindBottomNavigationItem:L}=wa(),F=()=>{v.value===0||V()||b()||A()},V=()=>u.find(t=>{var{name:i}=t;return o.value===i.value}),b=()=>u.find(t=>{var{index:i}=t;return o.value===i.value}),A=()=>{pa(o.value)&&(o.value<0?m(a["onUpdate:active"],0):o.value>v.value-1&&m(a["onUpdate:active"],v.value-1))},ia=t=>{o.value!==t&&(a.onBeforeChange?sa(t):z(t))},sa=t=>{var i=Na(m(a.onBeforeChange,t));Promise.all(i).then(c=>{c.every(Boolean)&&z(t)})},z=t=>{m(a["onUpdate:active"],t),m(a.onChange,t)},la=()=>{var t=H();t.forEach(i=>{i.classList.remove(K,q,Y)})},j=t=>{var i=H(),c=i.length,I=t%2===0;i.forEach((M,w)=>{va(I,M,w,c)})},va=(t,i,c,I)=>{var M=c===I-1;if(!t&&M){i.classList.add(Y);return}var w=c===I/2-1,da=c===I/2;w?i.classList.add(K):da&&i.classList.add(q)},H=()=>Array.from(r.value.querySelectorAll("."+E())),ua=()=>{m(a.onFabClick)},ma={active:o,activeColor:d,inactiveColor:y,onToggle:ia};return L(ma),_(()=>v.value,F),_(()=>a.fabProps,t=>{l.value=D({},Ra,t)},{immediate:!0,deep:!0}),fa(()=>{e.fab&&j(v.value)}),ba(()=>{la(),e.fab&&j(v.value)}),{n:Da,classes:Ga,length:v,bottomNavigationDom:r,handleFabClick:ua,fabProps:l}}});na.render=za;const oa=na;R(oa);var ja=oa,Ha={name:String,icon:String,label:String,namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:S()};function Ua(){var{parentProvider:a,index:n,bindParent:e}=Ca(ea);return e||ha("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:n,bottomNavigation:a,bindBottomNavigation:e}}var{n:Ka,classes:qa}=O("bottom-navigation-item"),Ya={type:"danger",dot:!0};function Ja(a,n){var e=$("var-icon"),r=$("var-badge"),o=Ba("ripple");return J((s(),C("button",{class:f(a.classes(a.n(),a.n("$--box"),[a.active===a.index||a.active===a.name,a.n("--active")])),style:X({color:a.computeColorStyle()}),onClick:n[0]||(n[0]=function(){return a.handleClick&&a.handleClick(...arguments)})},[a.icon&&!a.$slots.icon?(s(),B(e,{key:0,name:a.icon,namespace:a.namespace,class:f(a.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):N("v-if",!0),h(a.$slots,"icon",{active:a.active===a.index||a.active===a.name}),a.badge?(s(),B(r,G({key:1},a.badgeProps,{class:a.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):N("v-if",!0),Q("span",{class:f(a.n("label"))},[a.$slots.default?N("v-if",!0):(s(),C(ya,{key:0},[Ia(W(a.label),1)],64)),h(a.$slots,"default")],2)],6)),[[o]])}var ta=k({name:"VarBottomNavigationItem",components:{VarBadge:aa,VarIcon:Z},directives:{Ripple:Oa},props:Ha,setup(a){var n=p(()=>a.name),e=p(()=>a.badge),r=P({}),{index:o,bottomNavigation:d,bindBottomNavigation:y}=Ua(),{active:l,activeColor:v,inactiveColor:u}=d,L={name:n,index:o},F=()=>l.value===n.value||l.value===o.value?v.value:u.value,V=()=>{var b,A=(b=n.value)!=null?b:o.value;m(a.onClick,A),m(d.onToggle,A)};return y(L),_(()=>e.value,b=>{r.value=b===!0?Ya:e.value},{immediate:!0}),{n:Ka,classes:qa,index:o,active:l,badge:e,badgeProps:r,computeColorStyle:F,handleClick:V}}});ta.render=Ja;const ra=ta;R(ra);var Qa=ra;const Wa={class:"layout"},Xa=k({__name:"layout",setup(a){const n=Sa(),e=$a(),r=P();return _(()=>r.value,n.replace),_(()=>e.path,o=>{r.value=o},{immediate:!0}),(o,d)=>{const y=$("router-view"),l=Qa,v=ja;return s(),C("div",Wa,[g(y,null,{default:T(({Component:u})=>[(s(),B(Aa,null,[(s(),B(_a(u)))],1024))]),_:1}),g(v,{border:"","safe-area":"",fixed:"",active:r.value,"onUpdate:active":d[0]||(d[0]=u=>r.value=u)},{default:T(()=>[g(l,{label:o.$t("HOME"),icon:"home",name:"/layout/home"},null,8,["label"]),g(l,{label:o.$t("TOPIC"),icon:"heart",name:"/layout/topic"},null,8,["label"]),g(l,{label:o.$t("MESSAGE"),icon:"bell",name:"/layout/message"},null,8,["label"]),g(l,{label:o.$t("PROFILE"),icon:"account-circle",name:"/layout/profile"},null,8,["label"])]),_:1},8,["active"])])}}});const ae=Ta(Xa,[["__scopeId","data-v-64c41932"]]);export{ae as default};
